name: 'Update contributor feedback labels on comment'
on: 'issue_comment'

jobs:
  feedback:
    if: |
      github.actor != 'github-actions' &&
      github.event.issue &&
      github.event.issue.state == 'open' &&
      contains(github.event.issue.labels.*.name, 'needs feedback')
    runs-on: ubuntu-latest
    steps:
    - name: Add has feedback
      uses: actions-ecosystem/action-add-labels@v1
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        labels: 'has feedback'
    - name: remove needs feedback
      uses: actions-ecosystem/action-remove-labels@v1
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        labels: 'needs feedback'
    - name: remove stale
      uses: actions-ecosystem/action-remove-labels@v1
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        labels: Stale
